name: Consul
description: Consul 监控模板
step: 30s
refresh: 30s
start: now-30m
end: now
variables:
  service: ""
graphs:
  - name: Consul Raft Leader
    unit: ""
    targets:
      - targetName: A
        expr:
        promqlGenerator:
          scope: middlewires
          resource: consul
          rule: consulRaftLeader
          unit: ""
  - name: Consul Cluster Members
    unit: ""
    targets:
      - targetName: A
        expr:
        promqlGenerator:
          scope: middlewires
          resource: consul
          rule: consulLanMembers
          unit: ""
  - name: Consul Raft Peers
    unit: ""
    targets:
      - targetName: A
        expr:
        promqlGenerator:
          scope: middlewires
          resource: consul
          rule: consulRaftPeers
          unit: ""
  - name: Consul Service Healthy
    unit: ""
    targets:
      - targetName: A
        expr:
        promqlGenerator:
          scope: middlewires
          resource: consul
          rule: consulServiceHealthy
          unit: ""
  - name: Service Count
    unit: ""
    targets:
      - targetName: A
        expr:
        promqlGenerator:
          scope: middlewires
          resource: consul
          rule: consulService
          unit: ""
