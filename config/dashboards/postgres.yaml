name: Postgres
description: Postgres 监控模板
step: 30s
refresh: 30s
start: now-30m
end: now
variables:
  service: ""
graphs:
  - name: Current QPS
    unit: ""
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgFetchData
          unit: ""
  - name: Current TPS
    unit: ""
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgXactCommit
          unit: ""
  - name: Cache Hit Ratio
    unit: percent-0.0-1.0
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgCacheHitRate
          unit: percent-0.0-1.0
  - name: Insert Rows
    unit: ""
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgInsertedDate
          unit: ""
  - name: Idle Sessions
    unit: ""
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgIdleSessions
          unit: ""
  - name: Sync Durations
    unit: duration-s
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgSyncTime
          unit: duration-ms
  - name: Write Durations
    unit: duration-s
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgWriteTime
          unit: duration-ms
  - name: Temp Files
    unit: bytes-B
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgTmpBytes
          unit: bytes-B
  - name: Confilicts
    unit: ""
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgConflicts
          unit: ""
  - name: Active Sessions
    unit: ""
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgActivifyCount
          unit: ""
  - name: Shard Buffers
    unit: bytes-B
    targets:
      - targetName: A
        promqlGenerator:
          scope: middlewires
          resource: postgres
          rule: pgSharedBuffersBytes
          unit: bytes-B
